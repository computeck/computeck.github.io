<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U.S. Citizenship Test - Interactive Study Guide</title>
    <!-- Chosen Palette: Patriotic Harmony -->
    <!-- Application Structure Plan: A single-page application designed for task-oriented learning. It features a language switcher (EN/ES) and five main sections navigated by a sticky header: 1) 'Study Cards' for topic-based learning with interactive flashcards, 2) 'Audio Study' for continuous audio playback of all questions and answers, 3) 'Practice Test' to simulate the civics exam with randomized questions and scoring, 4) 'Progress Tracker' to visualize test performance over time, and 5) 'Resources' with official links. This structure separates learning modes (browsing vs. testing) for a focused user experience and adds gamification through progress tracking to motivate users. A text-to-speech feature reads questions aloud individually or continuously. A search feature fetches topic summaries from Wikipedia into an in-page modal to maintain immersion. -->
    <!-- Visualization & Content Choices: Report Info: 100 civics questions. Goal: Memorization & comprehension. Presentation: Interactive flashcards (HTML/CSS/JS) with reveal-on-click answers and category filters. Justification: Flashcards are a proven method for memorization. A 'Listen' button uses the Web Speech API for auditory learning. A 'Search Topic' button calls the Wikipedia API to display a summary in a modal, providing context without API keys or breaking immersion. The 'Audio Study' section provides a hands-free learning mode. Report Info: User test performance. Goal: Show improvement. Viz: Line Chart (Chart.js/Canvas). Interaction: Chart updates after each completed test. Justification: A line chart clearly visualizes trends in scores over time, providing motivation. All content is bilingual and toggled via JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card-inner {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .card-back {
            transform: rotateY(180deg);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        .loader {
            border-top-color: #3498db;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl md:text-2xl font-bold text-gray-800">
                        <span class="text-blue-700">US</span><span class="text-red-700">CIS</span> <span data-key="title">Study Guide</span>
                    </h1>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#welcome" class="nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md text-sm font-medium" data-key="nav_home">Home</a>
                    <a href="#study" class="nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md text-sm font-medium" data-key="nav_study">Study Cards</a>
                    <a href="#audio" class="nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md text-sm font-medium" data-key="nav_audio">Audio Study</a>
                    <a href="#test" class="nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md text-sm font-medium" data-key="nav_test">Practice Test</a>
                    <a href="#progress" class="nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md text-sm font-medium" data-key="nav_progress">Progress</a>
                </div>
                <div class="flex items-center">
                    <button id="lang-toggle" class="relative inline-flex items-center h-6 rounded-full w-12 transition-colors bg-gray-300">
                        <span class="sr-only">Toggle Language</span>
                        <span id="lang-indicator" class="inline-block w-6 h-6 transform bg-white rounded-full transition-transform text-xs flex items-center justify-center font-bold text-gray-600">EN</span>
                    </button>
                    <div class="md:hidden ml-4">
                        <button id="mobile-menu-button" class="text-gray-600 hover:text-blue-700 focus:outline-none">
                             <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden pb-4">
                <a href="#welcome" class="block nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md font-medium" data-key="nav_home">Home</a>
                <a href="#study" class="block nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md font-medium" data-key="nav_study">Study Cards</a>
                <a href="#audio" class="block nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md font-medium" data-key="nav_audio">Audio Study</a>
                <a href="#test" class="block nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md font-medium" data-key="nav_test">Practice Test</a>
                <a href="#progress" class="block nav-link text-gray-600 hover:text-blue-700 px-3 py-2 rounded-md font-medium" data-key="nav_progress">Progress</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <section id="welcome" class="text-center py-12 md:py-20 bg-white rounded-lg shadow-lg">
            <h2 class="text-3xl md:text-4xl font-extrabold mb-4" data-key="welcome_header">Welcome to Your Citizenship Study Tool</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-8" data-key="welcome_subheader">This interactive guide is designed to help you prepare for the civics portion of the U.S. Naturalization Test. Use the study cards to learn, then test your knowledge with the practice exam.</p>
            <a href="#study" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-700 transition duration-300 text-lg" data-key="start_studying_btn">Start Studying</a>
        </section>

        <section id="study" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold" data-key="study_header">Study Cards</h2>
                <p class="mt-4 text-lg text-gray-600" data-key="study_subheader">Browse questions by category. Click on a card to reveal the answer.</p>
            </div>
            <div class="mb-8 flex flex-wrap justify-center gap-2">
                <select id="category-filter" class="p-2 border rounded-md shadow-sm">
                </select>
            </div>
            <div id="flashcard-container" class="relative min-h-[300px]">
                <div id="card" class="card w-full max-w-2xl h-80 mx-auto perspective-1000">
                    <div class="card-inner relative w-full h-full">
                        <div class="card-face card-front absolute w-full h-full bg-white rounded-lg shadow-xl p-6 flex flex-col justify-center items-center text-center">
                            <p id="card-category" class="text-sm font-semibold text-blue-600 mb-4"></p>
                            <p id="card-question" class="text-xl md:text-2xl font-semibold"></p>
                            <div class="mt-4 flex gap-2">
                                <button id="speak-btn" class="bg-blue-100 text-blue-700 font-semibold py-2 px-4 rounded-full text-sm hover:bg-blue-200 transition">üîä <span data-key="speak_btn">Listen</span></button>
                                <button id="search-topic-btn" class="bg-purple-100 text-purple-700 font-semibold py-2 px-4 rounded-full text-sm hover:bg-purple-200 transition">üîé <span data-key="search_btn">Search Topic</span></button>
                            </div>
                        </div>
                        <div class="card-face card-back absolute w-full h-full bg-blue-50 rounded-lg shadow-xl p-6 flex flex-col justify-center items-center text-center">
                            <p id="card-answer" class="text-lg md:text-xl whitespace-pre-wrap"></p>
                        </div>
                    </div>
                </div>
                <div class="flex justify-between items-center max-w-2xl mx-auto mt-6">
                    <button id="prev-card" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition">&lt; <span data-key="prev_btn">Prev</span></button>
                    <div id="card-counter" class="text-gray-600 font-medium"></div>
                    <button id="next-card" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition"><span data-key="next_btn">Next</span> &gt;</button>
                </div>
                <div class="text-center mt-4">
                     <button id="flip-card-btn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-full hover:bg-blue-700 transition" data-key="reveal_answer_btn">Reveal Answer</button>
                </div>
            </div>
        </section>
        
        <div id="info-modal" class="modal fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 opacity-0 pointer-events-none">
            <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 transform scale-95">
                <div class="flex justify-between items-center border-b pb-3 mb-4">
                    <h3 id="modal-title" class="text-xl font-bold"></h3>
                    <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
                </div>
                <div id="modal-body" class="max-h-[60vh] overflow-y-auto">
                    <div id="modal-loader" class="flex justify-center items-center h-32">
                        <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"></div>
                    </div>
                    <div id="modal-text" class="text-gray-700"></div>
                </div>
            </div>
        </div>

        <section id="audio" class="py-16 md:py-24 bg-white rounded-lg shadow-lg">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold" data-key="audio_header">Audio Study Session</h2>
                <p class="mt-4 text-lg text-gray-600" data-key="audio_subheader">Listen to all 100 questions and answers back-to-back.</p>
            </div>
            <div class="text-center max-w-xl mx-auto">
                <div id="audio-status" class="mb-6 p-4 bg-gray-100 rounded-lg min-h-[80px] flex items-center justify-center">
                    <p id="audio-status-text" class="text-gray-600 font-medium" data-key="audio_idle">Press play to begin.</p>
                </div>
                <div class="flex justify-center gap-4">
                    <button id="play-all-btn" class="bg-green-600 text-white font-bold py-3 px-8 rounded-full hover:bg-green-700 transition duration-300 text-lg">‚ñ∂Ô∏è <span data-key="play_all_btn">Play All</span></button>
                    <button id="stop-audio-btn" class="bg-red-600 text-white font-bold py-3 px-8 rounded-full hover:bg-red-700 transition duration-300 text-lg">‚èπÔ∏è <span data-key="stop_btn">Stop</span></button>
                </div>
            </div>
        </section>

        <section id="test" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold" data-key="test_header">Practice Test</h2>
                <p class="mt-4 text-lg text-gray-600" data-key="test_subheader">Answer 10 randomly selected civics questions to test your knowledge.</p>
            </div>

            <div id="test-start-screen" class="text-center">
                 <button id="start-test-btn" class="bg-red-600 text-white font-bold py-3 px-8 rounded-full hover:bg-red-700 transition duration-300 text-lg" data-key="start_test_btn">Start Test</button>
            </div>

            <div id="test-quiz-screen" class="hidden max-w-3xl mx-auto">
                <div class="bg-gray-100 p-6 rounded-lg shadow-inner">
                    <div class="flex justify-between items-baseline mb-4">
                       <h3 class="font-bold text-lg" data-key="question_label">Question</h3>
                       <p id="test-question-counter" class="text-gray-600 font-medium"></p>
                    </div>
                    <p id="test-question" class="text-xl mb-6 min-h-[60px]"></p>
                    <div id="test-options" class="space-y-3"></div>
                </div>
                <div id="test-feedback" class="mt-4 p-4 rounded-lg text-center font-bold hidden"></div>
                <div class="mt-6 text-center">
                    <button id="next-question-btn" class="bg-blue-600 text-white font-bold py-2 px-8 rounded-full hover:bg-blue-700 transition hidden" data-key="next_question_btn">Next Question</button>
                </div>
            </div>

            <div id="test-results-screen" class="hidden text-center max-w-3xl mx-auto">
                 <h3 class="text-2xl font-bold mb-4" data-key="results_header">Test Results</h3>
                 <p id="test-score" class="text-5xl font-bold text-blue-700 mb-2"></p>
                 <p id="test-score-text" class="text-lg text-gray-600 mb-6"></p>
                 <div id="test-review" class="text-left space-y-4 mb-8"></div>
                 <button id="retake-test-btn" class="bg-red-600 text-white font-bold py-3 px-8 rounded-full hover:bg-red-700 transition duration-300" data-key="retake_test_btn">Retake Test</button>
            </div>
        </section>

        <section id="progress" class="py-16 md:py-24 bg-white rounded-lg shadow-lg">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold" data-key="progress_header">Your Progress</h2>
                <p class="mt-4 text-lg text-gray-600" data-key="progress_subheader">Track your practice test scores over time. Keep practicing to improve!</p>
            </div>
            <div class="chart-container bg-white p-4 rounded-lg shadow-lg">
                <canvas id="progress-chart"></canvas>
            </div>
        </section>

         <footer class="text-center py-8 border-t mt-12">
            <p class="text-gray-600" data-key="footer_disclaimer_1">This tool is for study purposes only. Always refer to the official</p>
            <a href="https://www.uscis.gov/citizenship" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline" data-key="uscis_link">U.S. Citizenship and Immigration Services (USCIS) website</a>
            <p class="text-gray-600" data-key="footer_disclaimer_2">for the most current information and questions.</p>
        </footer>

    </main>

    <script>
        const civicsQuestions = [
            { id: 1, category: `Principles of American Democracy`, question_en: `What is the supreme law of the land?`, answer_en: `The Constitution`, question_es: `¬øCu√°l es la ley suprema de la naci√≥n?`, answer_es: `La Constituci√≥n` },
            { id: 2, category: `Principles of American Democracy`, question_en: `What does the Constitution do?`, answer_en: `sets up the government, defines the government, protects basic rights of Americans`, question_es: `¬øQu√© hace la Constituci√≥n?`, answer_es: `establece el gobierno, define el gobierno, protege los derechos b√°sicos de los estadounidenses` },
            { id: 3, category: `Principles of American Democracy`, question_en: `The idea of self-government is in the first three words of the Constitution. What are these words?`, answer_en: `We the People`, question_es: `La idea del autogobierno est√° en las tres primeras palabras de la Constituci√≥n. ¬øCu√°les son estas palabras?`, answer_es: `Nosotros el Pueblo` },
            { id: 4, category: `Principles of American Democracy`, question_en: `What is an amendment?`, answer_en: `a change (to the Constitution), an addition (to the Constitution)`, question_es: `¬øQu√© es una enmienda?`, answer_es: `un cambio (a la Constituci√≥n), una adici√≥n (a la Constituci√≥n)` },
            { id: 5, category: `Principles of American Democracy`, question_en: `What do we call the first ten amendments to the Constitution?`, answer_en: `the Bill of Rights`, question_es: `¬øCon qu√© nombre se conocen las primeras diez enmiendas a la Constituci√≥n?`, answer_es: `la Carta de Derechos` },
            { id: 6, category: `Principles of American Democracy`, question_en: `What is one right or freedom from the First Amendment?`, answer_en: `speech, religion, assembly, press, petition the government`, question_es: `¬øCu√°l es un derecho o libertad que la Primera Enmienda garantiza?`, answer_es: `expresi√≥n, religi√≥n, reuni√≥n, prensa, peticionar al gobierno` },
            { id: 7, category: `Principles of American Democracy`, question_en: `How many amendments does the Constitution have?`, answer_en: `twenty-seven (27)`, question_es: `¬øCu√°ntas enmiendas tiene la Constituci√≥n?`, answer_es: `veintisiete (27)` },
            { id: 8, category: `Principles of American Democracy`, question_en: `What did the Declaration of Independence do?`, answer_en: `announced our independence (from Great Britain), declared our independence (from Great Britain), said that the United States is free (from Great Britain)`, question_es: `¬øQu√© hizo la Declaraci√≥n de Independencia?`, answer_es: `anunci√≥ nuestra independencia (de Gran Breta√±a), declar√≥ nuestra independencia (de Gran Breta√±a), dijo que los Estados Unidos se independiz√≥ (de Gran Breta√±a)` },
            { id: 9, category: `Principles of American Democracy`, question_en: `What are two rights in the Declaration of Independence?`, answer_en: `life, liberty, pursuit of happiness`, question_es: `¬øCu√°les son dos derechos en la Declaraci√≥n de la Independencia?`, answer_es: `la vida, la libertad, la b√∫squeda de la felicidad` },
            { id: 10, category: `Principles of American Democracy`, question_en: `What is freedom of religion?`, answer_en: `You can practice any religion, or not practice a religion.`, question_es: `¬øEn qu√© consiste la libertad de religi√≥n?`, answer_es: `Se puede practicar cualquier religi√≥n o no practicar ninguna.` },
            { id: 11, category: `System of Government`, question_en: `What is the economic system in the United States?`, answer_en: `capitalist economy, market economy`, question_es: `¬øCu√°l es el sistema econ√≥mico de los Estados Unidos?`, answer_es: `econom√≠a capitalista, econom√≠a de mercado` },
            { id: 12, category: `System of Government`, question_en: `What is the 'rule of law'?`, answer_en: `Everyone must follow the law, Leaders must obey the law, Government must obey the law, No one is above the law.`, question_es: `¬øEn qu√© consiste el 'estado de derecho' (la ley y el orden)?`, answer_es: `Todos deben obedecer la ley, Los l√≠deres deben obedecer la ley, El gobierno debe obedecer la ley, Nadie est√° por encima de la ley.` },
            { id: 13, category: `System of Government`, question_en: `Name one branch or part of the government.`, answer_en: `Congress, legislative, President, executive, the courts, judicial`, question_es: `Nombre una rama o parte del gobierno.`, answer_es: `Congreso, legislativo, Presidente, ejecutivo, los tribunais, judicial` },
            { id: 14, category: `System of Government`, question_en: `What stops one branch of government from becoming too powerful?`, answer_en: `checks and balances, separation of powers`, question_es: `¬øQu√© es lo que evita que una rama del gobierno se vuelva demasiado poderosa?`, answer_es: `pesos y contrapesos, separaci√≥n de poderes` },
            { id: 15, category: `System of Government`, question_en: `Who is in charge of the executive branch?`, answer_en: `the President`, question_es: `¬øQui√©n est√° a cargo de la rama ejecutiva?`, answer_es: `el Presidente` },
            { id: 16, category: `System of Government`, question_en: `Who makes federal laws?`, answer_en: `Congress, Senate and House (of Representatives), (U.S. or national) legislature`, question_es: `¬øQui√©n crea las leyes federales?`, answer_es: `el Congreso, el Senado y la C√°mara (de Representantes), la legislatura (nacional o de los Estados Unidos)` },
            { id: 17, category: `System of Government`, question_en: `What are the two parts of the U.S. Congress?`, answer_en: `the Senate and House (of Representatives)`, question_es: `¬øCu√°les son las dos partes que integran el Congreso de los Estados Unidos?`, answer_es: `el Senado y la C√°mara (de Representantes)` },
            { id: 18, category: `System of Government`, question_en: `How many U.S. Senators are there?`, answer_en: `one hundred (100)`, question_es: `¬øCu√°ntos senadores de los Estados Unidos hay?`, answer_es: `cien (100)` },
            { id: 19, category: `System of Government`, question_en: `We elect a U.S. Senator for how many years?`, answer_en: `six (6)`, question_es: `¬øDe cu√°ntos a√±os es el t√©rmino de elecci√≥n de un senador de los Estados Unidos?`, answer_es: `seis (6)` },
            { id: 20, category: `System of Government`, question_en: `Who is one of your state‚Äôs U.S. Senators now?`, answer_en: `Answers will vary. [For Florida: Marco Rubio or Rick Scott]`, question_es: `¬øQui√©n es uno de los senadores actuales del estado donde usted vive?`, answer_es: `Las respuestas variar√°n. [Para la Florida: Marco Rubio o Rick Scott]` },
            { id: 21, category: `System of Government`, question_en: `The House of Representatives has how many voting members?`, answer_en: `four hundred thirty-five (435)`, question_es: `¬øCu√°ntos miembros votantes tiene la C√°mara de Representantes?`, answer_es: `cuatrocientos treinta y cinco (435)` },
            { id: 22, category: `System of Government`, question_en: `We elect a U.S. Representative for how many years?`, answer_en: `two (2)`, question_es: `¬øDe cu√°ntos a√±os es el t√©rmino de elecci√≥n de un representante de los Estados Unidos?`, answer_es: `dos (2)` },
            { id: 23, category: `System of Government`, question_en: `Name your U.S. Representative.`, answer_en: `Answers will vary.`, question_es: `D√© el nombre de su representante a nivel nacional.`, answer_es: `Las respuestas variar√°n.` },
            { id: 24, category: `System of Government`, question_en: `Who does a U.S. Senator represent?`, answer_en: `all people of the state`, question_es: `¬øA qui√©nes representa un senador de los Estados Unidos?`, answer_es: `a todas las personas del estado` },
            { id: 25, category: `System of Government`, question_en: `Why do some states have more Representatives than other states?`, answer_en: `(because of) the state‚Äôs population`, question_es: `¬øPor qu√© algunos estados tienen m√°s representantes que otros?`, answer_es: `(debido a) la poblaci√≥n del estado` },
            { id: 26, category: `System of Government`, question_en: `We elect a President for how many years?`, answer_en: `four (4)`, question_es: `¬øDe cu√°ntos a√±os es el t√©rmino de elecci√≥n de un presidente?`, answer_es: `cuatro (4)` },
            { id: 27, category: `System of Government`, question_en: `In what month do we vote for President?`, answer_en: `November`, question_es: `¬øEn qu√© mes votamos por un nuevo presidente?`, answer_es: `noviembre` },
            { id: 28, category: `System of Government`, question_en: `What is the name of the President of the United States now?`, answer_en: `Joe Biden`, question_es: `¬øC√≥mo se llama el actual Presidente de los Estados Unidos?`, answer_es: `Joe Biden` },
            { id: 29, category: `System of Government`, question_en: `What is the name of the Vice President of the United States now?`, answer_en: `Kamala Harris`, question_es: `¬øC√≥mo se llama el actual Vicepresidente de los Estados Unidos?`, answer_es: `Kamala Harris` },
            { id: 30, category: `System of Government`, question_en: `If the President can no longer serve, who becomes President?`, answer_en: `the Vice President`, question_es: `Si el presidente ya no puede cumplir sus funciones, ¬øqui√©n se convierte en presidente?`, answer_es: `el Vicepresidente` },
            { id: 31, category: `System of Government`, question_en: `If both the President and the Vice President can no longer serve, who becomes President?`, answer_en: `the Speaker of the House`, question_es: `Si tanto el presidente como el vicepresidente ya no pueden cumplir sus funciones, ¬øqui√©n se convierte en presidente?`, answer_es: `el Presidente de la C√°mara de Representantes` },
            { id: 32, category: `System of Government`, question_en: `Who is the Commander in Chief of the military?`, answer_en: `the President`, question_es: `¬øQui√©n es el Comandante en Jefe de las Fuerzas Armadas?`, answer_es: `el Presidente` },
            { id: 33, category: `System of Government`, question_en: `Who signs bills to become laws?`, answer_en: `the President`, question_es: `¬øQui√©n firma los proyectos de ley para convertirlos en ley?`, answer_es: `el Presidente` },
            { id: 34, category: `System of Government`, question_en: `Who vetoes bills?`, answer_en: `the President`, question_es: `¬øQui√©n veta los proyectos de ley?`, answer_es: `el Presidente` },
            { id: 35, category: `System of Government`, question_en: `What does the President‚Äôs Cabinet do?`, answer_en: `advises the President`, question_es: `¬øQu√© hace el Gabinete del Presidente?`, answer_es: `asesora al Presidente` },
            { id: 36, category: `System of Government`, question_en: `What are two Cabinet-level positions?`, answer_en: `Secretary of Agriculture, Secretary of Commerce, Secretary of Defense, Secretary of Education, Secretary of Energy, Secretary of Health and Human Services, Secretary of Homeland Security, Secretary of Housing and Urban Development, Secretary of the Interior, Secretary of Labor, Secretary of State, Secretary of Transportation, Secretary of the Treasury, Secretary of Veterans Affairs, Attorney General, Vice President`, question_es: `¬øCu√°les son dos puestos a nivel de gabinete?`, answer_es: `Secretario de Agricultura, Secretario de Comercio, Secretario de Defensa, Secretario de Educaci√≥n, Secretario de Energ√≠a, Secretario de Salud y Servicios Humanos, Secretario de Seguridad Nacional, Secretario de Vivienda y Desarrollo Urbano, Secretario del Interior, Secretario del Trabajo, Secretario de Estado, Secretario de Transporte, Secretario del Tesoro, Secretario de Asuntos de los Veteranos, Procurador General, Vicepresidente` },
            { id: 37, category: `System of Government`, question_en: `What does the judicial branch do?`, answer_en: `reviews laws, explains laws, resolves disputes (disagreements), decides if a law goes against the Constitution`, question_es: `¬øQu√© hace la rama judicial?`, answer_es: `revisa las leyes, explica las leyes, resuelve disputas (desacuerdos), decide si una ley va en contra de la Constituci√≥n` },
            { id: 38, category: `System of Government`, question_en: `What is the highest court in the United States?`, answer_en: `the Supreme Court`, question_es: `¬øCu√°l es el tribunal m√°s alto de los Estados Unidos?`, answer_es: `la Corte Suprema` },
            { id: 39, category: `System of Government`, question_en: `How many justices are on the Supreme Court?`, answer_en: `nine (9)`, question_es: `¬øCu√°ntos jueces hay en la Corte Suprema?`, answer_es: `nueve (9)` },
            { id: 40, category: `System of Government`, question_en: `Who is the Chief Justice of the United States now?`, answer_en: `John Roberts`, question_es: `¬øQui√©n es el Presidente actual de la Corte Suprema de los Estados Unidos?`, answer_es: `John Roberts` },
            { id: 41, category: `System of Government`, question_en: `Under our Constitution, some powers belong to the federal government. What is one power of the federal government?`, answer_en: `to print money, to declare war, to create an army, to make treaties`, question_es: `De acuerdo a nuestra Constituci√≥n, algunos poderes pertenecen al gobierno federal. ¬øCu√°l es un poder del gobierno federal?`, answer_es: `imprimir dinero, declarar la guerra, crear un ej√©rcito, suscribir tratados` },
            { id: 42, category: `System of Government`, question_en: `Under our Constitution, some powers belong to the states. What is one power of the states?`, answer_en: `provide schooling and education, provide protection (police), provide safety (fire departments), give a driver's license, approve zoning and land use`, question_es: `De acuerdo a nuestra Constituci√≥n, algunos poderes pertenecen a los estados. ¬øCu√°l es un poder de los estados?`, answer_es: `proveer escuelas y educaci√≥n, proveer protecci√≥n (polic√≠a), proveer seguridad (cuerpos de bomberos), conceder licencias de conducir, aprobar la zonificaci√≥n y el uso de la tierra` },
            { id: 43, category: `System of Government`, question_en: `Who is the Governor of your state now?`, answer_en: `Answers will vary. [For Florida: Ron DeSantis]`, question_es: `¬øQui√©n es el gobernador actual de su estado?`, answer_es: `Las respuestas variar√°n. [Para la Florida: Ron DeSantis]` },
            { id: 44, category: `System of Government`, question_en: `What is the capital of your state?`, answer_en: `Answers will vary. [For Florida: Tallahassee]`, question_es: `¬øCu√°l es la capital de su estado?`, answer_es: `Las respuestas variar√°n. [Para la Florida: Tallahassee]` },
            { id: 45, category: `System of Government`, question_en: `What are the two major political parties in the United States?`, answer_en: `Democratic and Republican`, question_es: `¬øCu√°les son los dos partidos pol√≠ticos principales de los Estados Unidos?`, answer_es: `Dem√≥crata y Republicano` },
            { id: 46, category: `System of Government`, question_en: `What is the political party of the President now?`, answer_en: `Democratic Party`, question_es: `¬øCu√°l es el partido pol√≠tico del Presidente actual?`, answer_es: `Partido Dem√≥crata` },
            { id: 47, category: `System of Government`, question_en: `What is the name of the Speaker of the House of Representatives now?`, answer_en: `Mike Johnson`, question_es: `¬øC√≥mo se llama el Presidente actual de la C√°mara de Representantes?`, answer_es: `Mike Johnson` },
            { id: 48, category: `Rights and Responsibilities`, question_en: `There are four amendments to the Constitution about who can vote. Describe one of them.`, answer_en: `Citizens eighteen (18) and older (can vote), You don‚Äôt have to pay (a poll tax) to vote, Any citizen can vote. (Women and men can vote.), A male citizen of any race (can vote).`, question_es: `Existen cuatro enmiendas a la Constituci√≥n sobre qui√©n puede votar. Describa una de ellas.`, answer_es: `Ciudadanos de dieciocho (18) a√±os en adelante (pueden votar), No se exige pagar un impuesto para votar (el 'poll tax'), Cualquier ciudadano puede votar (tanto mujeres como hombres pueden votar), Un ciudadano var√≥n de cualquier raza (puede votar).` },
            { id: 49, category: `Rights and Responsibilities`, question_en: `What is one responsibility that is only for United States citizens?`, answer_en: `serve on a jury, vote in a federal election`, question_es: `¬øCu√°l es una responsabilidad que corresponde s√≥lo a los ciudadanos de los Estados Unidos?`, answer_es: `prestar servicio en un jurado, votar en una elecci√≥n federal` },
            { id: 50, category: `Rights and Responsibilities`, question_en: `Name one right only for United States citizens.`, answer_en: `vote in a federal election, run for federal office`, question_es: `Nombre un derecho que pueden ejercer s√≥lo los ciudadanos de los Estados Unidos.`, answer_es: `votar en una elecci√≥n federal, postularse a un cargo pol√≠tico federal` },
            { id: 51, category: `Rights and Responsibilities`, question_en: `What are two rights of everyone living in the United States?`, answer_en: `freedom of expression, freedom of speech, freedom of assembly, freedom to petition the government, freedom of religion, the right to bear arms`, question_es: `¬øCu√°les son dos derechos que pueden ejercer todas las personas que viven en los Estados Unidos?`, answer_es: `libertad de expresi√≥n, libertad de palabra, libertad de reuni√≥n, libertad para peticionar al gobierno, libertad de religi√≥n, derecho a portar armas` },
            { id: 52, category: `Rights and Responsibilities`, question_en: `What do we show loyalty to when we say the Pledge of Allegiance?`, answer_en: `the United States, the flag`, question_es: `¬øA qu√© demostramos nuestra lealtad cuando decimos el Juramento de Lealtad (Pledge of Allegiance)?`, answer_es: `a los Estados Unidos, a la bandera` },
            { id: 53, category: `Rights and Responsibilities`, question_en: `What is one promise you make when you become a United States citizen?`, answer_en: `give up loyalty to other countries, defend the Constitution and laws of the United States, obey the laws of the United States, serve in the U.S. military (if needed), serve (do important work for) the nation (if needed), be loyal to the United States`, question_es: `¬øCu√°l es una promesa que usted hace cuando se convierte en ciudadano de los Estados Unidos?`, answer_es: `renunciar a la lealtad a otros pa√≠ses, defender la Constituci√≥n y las leyes de los Estados Unidos, obedecer las leyes de los Estados Unidos, prestar servicio en las Fuerzas Armadas de los Estados Unidos (de ser necesario), prestar servicio (realizar trabajo importante para) a la naci√≥n (de ser necesario), ser leal a los Estados Unidos` },
            { id: 54, category: `Rights and Responsibilities`, question_en: `How old do citizens have to be to vote for President?`, answer_en: `eighteen (18) and older`, question_es: `¬øQu√© edad deben tener los ciudadanos para votar por el Presidente?`, answer_es: `dieciocho (18) a√±os en adelante` },
            { id: 55, category: `Rights and Responsibilities`, question_en: `What are two ways that Americans can participate in their democracy?`, answer_en: `vote, join a political party, help with a campaign, join a civic group, join a community group, give an elected official your opinion on an issue, call Senators and Representatives, publicly support or oppose an issue or policy, run for office, write to a newspaper`, question_es: `¬øCu√°les son dos maneras en las que los ciudadanos americanos pueden participar en su democracia?`, answer_es: `votar, afiliarse a un partido pol√≠tico, ayudar en una campa√±a, unirse a un grupo c√≠vico, unirse a un grupo comunitario, expresar su opini√≥n a un oficial electo, llamar a los senadores y representantes, apoyar u oponerse p√∫blicamente a un asunto o pol√≠tica, postularse a un cargo pol√≠tico, enviar una carta o mensaje a un peri√≥dico` },
            { id: 56, category: `Rights and Responsibilities`, question_en: `When is the last day you can send in federal income tax forms?`, answer_en: `April 15`, question_es: `¬øCu√°l es la fecha l√≠mite para enviar la declaraci√≥n federal de impuestos sobre el ingreso?`, answer_es: `el 15 de abril` },
            { id: 57, category: `Rights and Responsibilities`, question_en: `When must all men register for the Selective Service?`, answer_en: `at age eighteen (18), between eighteen (18) and twenty-six (26)`, question_es: `¬øCu√°ndo deben inscribirse todos los hombres en el Servicio Selectivo?`, answer_es: `a la edad de dieciocho (18) a√±os, entre los dieciocho (18) y veintis√©is (26) a√±os de edad` },
            { id: 58, category: `American History: Colonial Period and Independence`, question_en: `What is one reason colonists came to America?`, answer_en: `freedom, political liberty, religious freedom, economic opportunity, practice their religion, escape persecution`, question_es: `¬øCu√°l es una raz√≥n por la que los colonos vinieron a Am√©rica?`, answer_es: `libertad, libertad pol√≠tica, libertad religiosa, oportunidad econ√≥mica, para practicar su religi√≥n, para huir de la persecuci√≥n` },
            { id: 59, category: `American History: Colonial Period and Independence`, question_en: `Who lived in America before the Europeans arrived?`, answer_en: `American Indians, Native Americans`, question_es: `¬øQui√©nes viv√≠an en lo que hoy conocemos como los Estados Unidos antes de la llegada de los europeos?`, answer_es: `Indios Americanos, Nativos Americanos` },
            { id: 60, category: `American History: Colonial Period and Independence`, question_en: `What group of people was taken to America and sold as slaves?`, answer_en: `Africans, people from Africa`, question_es: `¬øQu√© grupo de personas fue tra√≠do a los Estados Unidos y vendidos como esclavos?`, answer_es: `africanos, gente de √Åfrica` },
            { id: 61, category: `American History: Colonial Period and Independence`, question_en: `Why did the colonists fight the British?`, answer_en: `because of high taxes (taxation without representation), because the British army stayed in their houses (boarding, quartering), because they didn‚Äôt have self-government`, question_es: `¬øPor qu√© lucharon los colonos contra los brit√°nicos?`, answer_es: `debido a los impuestos altos (impuestos sin representaci√≥n), porque el ej√©rcito brit√°nico se qued√≥ en sus casas (alojamiento, acuartelamiento), porque no ten√≠an autodeterminaci√≥n` },
            { id: 62, category: `American History: Colonial Period and Independence`, question_en: `Who wrote the Declaration of Independence?`, answer_en: `(Thomas) Jefferson`, question_es: `¬øQui√©n escribi√≥ la Declaraci√≥n de Independencia?`, answer_es: `(Thomas) Jefferson` },
            { id: 63, category: `American History: Colonial Period and Independence`, question_en: `When was the Declaration of Independence adopted?`, answer_en: `July 4, 1776`, question_es: `¬øCu√°ndo fue adoptada la Declaraci√≥n de Independencia?`, answer_es: `el 4 de julio de 1776` },
            { id: 64, category: `American History: Colonial Period and Independence`, question_en: `There were 13 original states. Name three.`, answer_en: `New Hampshire, Massachusetts, Rhode Island, Connecticut, New York, New Jersey, Pennsylvania, Delaware, Maryland, Virginia, North Carolina, South Carolina, Georgia`, question_es: `Hab√≠a 13 estados originales. Nombre tres.`, answer_es: `Nueva Hampshire, Massachusetts, Rhode Island, Connecticut, Nueva York, Nueva Jersey, Pensilvania, Delaware, Maryland, Virginia, Carolina del Norte, Carolina del Sur, Georgia` },
            { id: 65, category: `American History: Colonial Period and Independence`, question_en: `What happened at the Constitutional Convention?`, answer_en: `The Constitution was written, The Founding Fathers wrote the Constitution.`, question_es: `¬øQu√© ocurri√≥ en la Convenci√≥n Constitucional?`, answer_es: `Se redact√≥ la Constituci√≥n, Los Padres Fundadores redactaron la Constituci√≥n.` },
            { id: 66, category: `American History: Colonial Period and Independence`, question_en: `When was the Constitution written?`, answer_en: `1787`, question_es: `¬øCu√°ndo fue redactada la Constituci√≥n?`, answer_es: `1787` },
            { id: 67, category: `American History: Colonial Period and Independence`, question_en: `The Federalist Papers supported the passage of the U.S. Constitution. Name one of the writers.`, answer_en: `(James) Madison, (Alexander) Hamilton, (John) Jay, Publius`, question_es: `Los escritos conocidos como 'Los Documentos Federalistas' respaldaron la aprobaci√≥n de la Constituci√≥n de los Estados Unidos. Nombre uno de los autores.`, answer_es: `(James) Madison, (Alexander) Hamilton, (John) Jay, Publius` },
            { id: 68, category: `American History: Colonial Period and Independence`, question_en: `What is one thing Benjamin Franklin is famous for?`, answer_en: `U.S. diplomat, oldest member of the Constitutional Convention, first Postmaster General of the United States, writer of 'Poor Richard‚Äôs Almanac', started the first free libraries`, question_es: `Mencione una raz√≥n por la que es famoso Benjamin Franklin.`, answer_es: `diplom√°tico estadounidense, el miembro de mayor edad de la Convenci√≥n Constitucional, primer Director General de Correos de los Estados Unidos, autor de 'Poor Richard's Almanac' (El almanaque del pobre Richard), fund√≥ las primeras bibliotecas gratuitas` },
            { id: 69, category: `American History: Colonial Period and Independence`, question_en: `Who is the 'Father of Our Country'?`, answer_en: `(George) Washington`, question_es: `¬øQui√©n se conoce como el 'Padre de Nuestra Naci√≥n'?`, answer_es: `(George) Washington` },
            { id: 70, category: `American History: Colonial Period and Independence`, question_en: `Who was the first President?`, answer_en: `(George) Washington`, question_es: `¬øQui√©n fue el primer Presidente?`, answer_es: `(George) Washington` },
            { id: 71, category: `American History: The 1800s`, question_en: `What territory did the United States buy from France in 1803?`, answer_en: `the Louisiana Territory, Louisiana`, question_es: `¬øQu√© territorio compr√≥ los Estados Unidos a Francia en 1803?`, answer_es: `el territorio de Louisiana, Louisiana` },
            { id: 72, category: `American History: The 1800s`, question_en: `Name one war fought by the United States in the 1800s.`, answer_en: `War of 1812, Mexican-American War, Civil War, Spanish-American War`, question_es: `Mencione una guerra en la que pele√≥ los Estados Unidos durante los a√±os 1800.`, answer_es: `la Guerra de 1812, la Guerra entre M√©xico y los Estados Unidos, la Guerra Civil, la Guerra Hispano-Estadounidense` },
            { id: 73, category: `American History: The 1800s`, question_en: `Name the U.S. war between the North and the South.`, answer_en: `the Civil War, the War between the States`, question_es: `D√© el nombre de la guerra de los Estados Unidos entre el Norte y el Sur.`, answer_es: `la Guerra Civil, la Guerra entre los Estados` },
            { id: 74, category: `American History: The 1800s`, question_en: `Name one problem that led to the Civil War.`, answer_en: `slavery, economic reasons, states‚Äô rights`, question_es: `Mencione un problema que condujo a la Guerra Civil.`, answer_es: `la esclavitud, razones econ√≥micas, derechos de los estados` },
            { id: 75, category: `American History: The 1800s`, question_en: `What was one important thing that Abraham Lincoln did?`, answer_en: `freed the slaves (Emancipation Proclamation), saved (or preserved) the Union, led the United States during the Civil War`, question_es: `Mencione una cosa importante que hizo Abraham Lincoln.`, answer_es: `liber√≥ a los esclavos (Proclamaci√≥n de la Emancipaci√≥n), salv√≥ (o preserv√≥) la Uni√≥n, presidi√≥ los Estados Unidos durante la Guerra Civil` },
            { id: 76, category: `American History: The 1800s`, question_en: `What did the Emancipation Proclamation do?`, answer_en: `freed the slaves, freed slaves in the Confederacy, freed slaves in the Confederate states, freed slaves in most Southern states`, question_es: `¬øQu√© hizo la Proclamaci√≥n de la Emancipaci√≥n?`, answer_es: `liber√≥ a los esclavos, liber√≥ a los esclavos de la Confederaci√≥n, liber√≥ a los esclavos en los estados de la Confederaci√≥n, liber√≥ a los esclavos en la mayor√≠a de los estados del Sur` },
            { id: 77, category: `American History: The 1800s`, question_en: `What did Susan B. Anthony do?`, answer_en: `fought for women‚Äôs rights, fought for civil rights`, question_es: `¬øQu√© hizo Susan B. Anthony?`, answer_es: `luch√≥ por los derechos de la mujer, luch√≥ por los derechos civiles` },
            { id: 78, category: `Recent American History and Other Important Historical Information`, question_en: `Name one war fought by the United States in the 1900s.`, answer_en: `World War I, World War II, Korean War, Vietnam War, (Persian) Gulf War`, question_es: `Mencione una guerra en la que pele√≥ los Estados Unidos durante los a√±os 1900.`, answer_es: `la Primera Guerra Mundial, la Segunda Guerra Mundial, la Guerra de Corea, la Guerra de Vietnam, la Guerra del Golfo (P√©rsico)` },
            { id: 79, category: `Recent American History and Other Important Historical Information`, question_en: `Who was President during World War I?`, answer_en: `(Woodrow) Wilson`, question_es: `¬øQui√©n era el presidente durante la Primera Guerra Mundial?`, answer_es: `(Woodrow) Wilson` },
            { id: 80, category: `Recent American History and Other Important Historical Information`, question_en: `Who was President during the Great Depression and World War II?`, answer_en: `(Franklin) Roosevelt`, question_es: `¬øQui√©n era presidente durante la Gran Depresi√≥n y la Segunda Guerra Mundial?`, answer_es: `(Franklin) Roosevelt` },
            { id: 81, category: `Recent American History and Other Important Historical Information`, question_en: `Who did the United States fight in World War II?`, answer_en: `Japan, Germany, and Italy`, question_es: `¬øContra qu√© pa√≠ses pele√≥ los Estados Unidos en la Segunda Guerra Mundial?`, answer_es: `Jap√≥n, Alemania e Italia` },
            { id: 82, category: `Recent American History and Other Important Historical Information`, question_en: `Before he was President, Eisenhower was a general. What war was he in?`, answer_en: `World War II`, question_es: `Antes de ser presidente, Eisenhower era general. ¬øEn qu√© guerra particip√≥?`, answer_es: `la Segunda Guerra Mundial` },
            { id: 83, category: `Recent American History and Other Important Historical Information`, question_en: `During the Cold War, what was the main concern of the United States?`, answer_en: `Communism`, question_es: `Durante la Guerra Fr√≠a, ¬øcu√°l era la principal preocupaci√≥n de los Estados Unidos?`, answer_es: `el comunismo` },
            { id: 84, category: `Recent American History and Other Important Historical Information`, question_en: `What movement tried to end racial discrimination?`, answer_en: `civil rights (movement)`, question_es: `¬øQu√© movimiento trat√≥ de poner fin a la discriminaci√≥n racial?`, answer_es: `el movimiento de derechos civiles` },
            { id: 85, category: `Recent American History and Other Important Historical Information`, question_en: `What did Martin Luther King, Jr. do?`, answer_en: `fought for civil rights, worked for equality for all Americans`, question_es: `¬øQu√© hizo Martin Luther King, Jr.?`, answer_es: `luch√≥ por los derechos civiles, trabaj√≥ por la igualdad de todos los ciudadanos americanos` },
            { id: 86, category: `Recent American History and Other Important Historical Information`, question_en: `What major event happened on September 11, 2001, in the United States?`, answer_en: `Terrorists attacked the United States.`, question_es: `¬øQu√© suceso de gran magnitud ocurri√≥ el 11 de septiembre de 2001 en los Estados Unidos?`, answer_es: `Terroristas atacaron los Estados Unidos.` },
            { id: 87, category: `Recent American History and Other Important Historical Information`, question_en: `Name one American Indian tribe in the United States.`, answer_en: `Cherokee, Navajo, Sioux, Chippewa, Choctaw, Pueblo, Apache, Iroquois, Creek, Blackfeet, Seminole, Cheyenne, Arawak, Shawnee, Mohegan, Huron, Oneida, Lakota, Crow, Teton, Hopi, Inuit`, question_es: `Mencione una tribu de indios americanos en los Estados Unidos.`, answer_es: `Cherokee, Navajo, Sioux, Chippewa, Choctaw, Pueblo, Apache, Iroquois, Creek, Blackfeet, Seminole, Cheyenne, Arawak, Shawnee, Mohegan, Huron, Oneida, Lakota, Crow, Teton, Hopi, Inuit` },
            { id: 88, category: `Integrated Civics: Geography`, question_en: `Name one of the two longest rivers in the United States.`, answer_en: `Missouri (River), Mississippi (River)`, question_es: `Mencione uno de los dos r√≠os m√°s largos en los Estados Unidos.`, answer_es: `el (r√≠o) Missouri, el (r√≠o) Mississippi` },
            { id: 89, category: `Integrated Civics: Geography`, question_en: `What ocean is on the West Coast of the United States?`, answer_en: `Pacific (Ocean)`, question_es: `¬øQu√© oc√©ano est√° en la costa oeste de los Estados Unidos?`, answer_es: `el oc√©ano Pac√≠fico` },
            { id: 90, category: `Integrated Civics: Geography`, question_en: `What ocean is on the East Coast of the United States?`, answer_en: `Atlantic (Ocean)`, question_es: `¬øQu√© oc√©ano est√° en la costa este de los Estados Unidos?`, answer_es: `el oc√©ano Atl√°ntico` },
            { id: 91, category: `Integrated Civics: Geography`, question_en: `Name one U.S. territory.`, answer_en: `Puerto Rico, U.S. Virgin Islands, American Samoa, Northern Mariana Islands, Guam`, question_es: `D√© el nombre de un territorio de los Estados Unidos.`, answer_es: `Puerto Rico, Islas V√≠rgenes de los Estados Unidos, Samoa Americana, Islas Marianas del Norte, Guam` },
            { id: 92, category: `Integrated Civics: Geography`, question_en: `Name one state that borders Canada.`, answer_en: `Maine, New Hampshire, Vermont, New York, Pennsylvania, Ohio, Michigan, Minnesota, North Dakota, Montana, Idaho, Washington, Alaska`, question_es: `Mencione un estado que tiene frontera con Canad√°.`, answer_es: `Maine, Nueva Hampshire, Vermont, Nueva York, Pensilvania, Ohio, Michigan, Minnesota, Dakota del Norte, Montana, Idaho, Washington, Alaska` },
            { id: 93, category: `Integrated Civics: Geography`, question_en: `Name one state that borders Mexico.`, answer_en: `California, Arizona, New Mexico, Texas`, question_es: `Mencione un estado que tiene frontera con M√©xico.`, answer_es: `California, Arizona, Nuevo M√©xico, Texas` },
            { id: 94, category: `Integrated Civics: Geography`, question_en: `What is the capital of the United States?`, answer_en: `Washington, D.C.`, question_es: `¬øCu√°l es la capital de los Estados Unidos?`, answer_es: `Washington, D.C.` },
            { id: 95, category: `Integrated Civics: Geography`, question_en: `Where is the Statue of Liberty?`, answer_en: `New York (Harbor), Liberty Island`, question_es: `¬øD√≥nde est√° la Estatua de la Libertad?`, answer_es: `en el puerto de Nueva York, en Liberty Island` },
            { id: 96, category: `Integrated Civics: Symbols`, question_en: `Why does the flag have 13 stripes?`, answer_en: `because there were 13 original colonies, because the stripes represent the original colonies`, question_es: `¬øPor qu√© hay 13 franjas en la bandera?`, answer_es: `porque representan las 13 colonias originales, porque las franjas representan las colonias originales` },
            { id: 97, category: `Integrated Civics: Symbols`, question_en: `Why does the flag have 50 stars?`, answer_en: `because there is one star for each state, because each star represents a state, because there are 50 states`, question_es: `¬øPor qu√© hay 50 estrellas en la bandera?`, answer_es: `porque hay una estrella por cada estado, porque cada estrella representa un estado, porque hay 50 estados` },
            { id: 98, category: `Integrated Civics: Symbols`, question_en: `What is the name of the national anthem?`, answer_en: `The Star-Spangled Banner`, question_es: `¬øC√≥mo se llama el himno nacional?`, answer_es: `The Star-Spangled Banner` },
            { id: 99, category: `Integrated Civics: Holidays`, question_en: `When do we celebrate Independence Day?`, answer_en: `July 4`, question_es: `¬øCu√°ndo celebramos el D√≠a de la Independencia?`, answer_es: `el 4 de julio` },
            { id: 100, category: `Integrated Civics: Holidays`, question_en: `Name two national U.S. holidays.`, answer_en: `New Year‚Äôs Day, Martin Luther King, Jr. Day, Presidents‚Äô Day, Memorial Day, Independence Day, Labor Day, Columbus Day, Veterans Day, Thanksgiving, Christmas`, question_es: `Mencione dos d√≠as feriados nacionales de los Estados Unidos.`, answer_es: `el D√≠a de A√±o Nuevo, el D√≠a de Martin Luther King, Jr., el D√≠a de los Presidentes, el D√≠a de la Recordaci√≥n (Memorial Day), el D√≠a de la Independencia, el D√≠a del Trabajo, el D√≠a de la Raza (Columbus Day), el D√≠a de los Veteranos, el D√≠a de Acci√≥n de Gracias, el D√≠a de Navidad` }
        ];

        const translations = {
            en: {
                title: `Study Guide`,
                nav_home: `Home`,
                nav_study: `Study Cards`,
                nav_audio: `Audio Study`,
                nav_test: `Practice Test`,
                nav_progress: `Progress`,
                welcome_header: `Welcome to Your Citizenship Study Tool`,
                welcome_subheader: `This interactive guide is designed to help you prepare for the civics portion of the U.S. Naturalization Test. Use the study cards to learn, then test your knowledge with the practice exam.`,
                start_studying_btn: `Start Studying`,
                study_header: `Study Cards`,
                study_subheader: `Browse questions by category. Click on a card to reveal the answer.`,
                reveal_answer_btn: `Reveal Answer`,
                prev_btn: `Prev`,
                next_btn: `Next`,
                speak_btn: `Listen`,
                search_btn: `Search Topic`,
                audio_header: `Audio Study Session`,
                audio_subheader: `Listen to all 100 questions and answers back-to-back.`,
                audio_idle: `Press play to begin.`,
                audio_playing: `Playing question`,
                audio_finished: `Audio playback finished.`,
                play_all_btn: `Play All`,
                stop_btn: `Stop`,
                test_header: `Practice Test`,
                test_subheader: `Answer 10 randomly selected civics questions to test your knowledge.`,
                start_test_btn: `Start Test`,
                question_label: `Question`,
                next_question_btn: `Next Question`,
                results_header: `Test Results`,
                retake_test_btn: `Retake Test`,
                progress_header: `Your Progress`,
                progress_subheader: `Track your practice test scores over time. Keep practicing to improve!`,
                all_categories: `All Categories`,
                pass_message: `Congratulations, you passed!`,
                fail_message: `Keep studying. You need at least 6 correct answers to pass.`,
                score_label: `Score`,
                test_attempt_label: `Test Attempt`,
                footer_disclaimer_1: `This tool is for study purposes only. Always refer to the official`,
                uscis_link: `U.S. Citizenship and Immigration Services (USCIS) website`,
                footer_disclaimer_2: `for the most current information and questions.`,
            },
            es: {
                title: `Gu√≠a de Estudio`,
                nav_home: `Inicio`,
                nav_study: `Tarjetas de Estudio`,
                nav_audio: `Estudio con Audio`,
                nav_test: `Prueba de Pr√°ctica`,
                nav_progress: `Progreso`,
                welcome_header: `Bienvenido a su Herramienta de Estudio para la Ciudadan√≠a`,
                welcome_subheader: `Esta gu√≠a interactiva est√° dise√±ada para ayudarlo a prepararse para la parte de civismo del Examen de Naturalizaci√≥n de EE. UU. Use las tarjetas de estudio para aprender, luego ponga a prueba sus conocimientos con el examen de pr√°ctica.`,
                start_studying_btn: `Empezar a Estudiar`,
                study_header: `Tarjetas de Estudio`,
                study_subheader: `Explore las preguntas por categor√≠a. Haga clic en una tarjeta para revelar la respuesta.`,
                reveal_answer_btn: `Revelar Respuesta`,
                prev_btn: `Ant`,
                next_btn: `Sig`,
                speak_btn: `Escuchar`,
                search_btn: `Buscar Tema`,
                audio_header: `Sesi√≥n de Estudio con Audio`,
                audio_subheader: `Escuche las 100 preguntas y respuestas de forma consecutiva.`,
                audio_idle: `Presione reproducir para comenzar.`,
                audio_playing: `Reproduciendo pregunta`,
                audio_finished: `Reproducci√≥n de audio finalizada.`,
                play_all_btn: `Reproducir Todo`,
                stop_btn: `Detener`,
                test_header: `Prueba de Pr√°ctica`,
                test_subheader: `Responda 10 preguntas de civismo seleccionadas al azar para evaluar sus conocimientos.`,
                start_test_btn: `Iniciar Prueba`,
                question_label: `Pregunta`,
                next_question_btn: `Siguiente Pregunta`,
                results_header: `Resultados de la Prueba`,
                retake_test_btn: `Repetir Prueba`,
                progress_header: `Su Progreso`,
                progress_subheader: `Siga sus puntajes de las pruebas de pr√°ctica a lo largo del tiempo. ¬°Siga practicando para mejorar!`,
                all_categories: `Todas las Categor√≠as`,
                pass_message: `¬°Felicidades, ha aprobado!`,
                fail_message: `Siga estudiando. Necesita al menos 6 respuestas correctas para aprobar.`,
                score_label: `Puntuaci√≥n`,
                test_attempt_label: `Intento de Prueba`,
                footer_disclaimer_1: `Esta herramienta es solo para fines de estudio. Consulte siempre el sitio web oficial de`,
                uscis_link: `Servicios de Ciudadan√≠a e Inmigraci√≥n de EE. UU. (USCIS)`,
                footer_disclaimer_2: `para obtener la informaci√≥n y las preguntas m√°s actuales.`,
            }
        };

        let state = {
            language: 'en',
            currentCardIndex: 0,
            filteredQuestions: [...civicsQuestions],
            isCardFlipped: false,
            currentTest: {
                isActive: false,
                questions: [],
                currentQuestionIndex: 0,
                score: 0,
                userAnswers: []
            },
            progressData: [],
            audioQueue: [],
            isAudioPlaying: false
        };

        const categoryFilter = document.getElementById('category-filter');
        const cardQuestion = document.getElementById('card-question');
        const cardAnswer = document.getElementById('card-answer');
        const cardCategory = document.getElementById('card-category');
        const cardCounter = document.getElementById('card-counter');
        const cardElement = document.getElementById('card');
        const prevCardBtn = document.getElementById('prev-card');
        const nextCardBtn = document.getElementById('next-card');
        const flipCardBtn = document.getElementById('flip-card-btn');
        const langToggle = document.getElementById('lang-toggle');
        const langIndicator = document.getElementById('lang-indicator');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        const speakBtn = document.getElementById('speak-btn');
        const searchTopicBtn = document.getElementById('search-topic-btn');
        
        const infoModal = document.getElementById('info-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalText = document.getElementById('modal-text');
        const modalLoader = document.getElementById('modal-loader');
        const closeModalBtn = document.getElementById('close-modal-btn');

        const playAllBtn = document.getElementById('play-all-btn');
        const stopAudioBtn = document.getElementById('stop-audio-btn');
        const audioStatusText = document.getElementById('audio-status-text');

        const testStartScreen = document.getElementById('test-start-screen');
        const testQuizScreen = document.getElementById('test-quiz-screen');
        const testResultsScreen = document.getElementById('test-results-screen');
        const startTestBtn = document.getElementById('start-test-btn');
        const testQuestionCounter = document.getElementById('test-question-counter');
        const testQuestionEl = document.getElementById('test-question');
        const testOptionsEl = document.getElementById('test-options');
        const testFeedbackEl = document.getElementById('test-feedback');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const testScoreEl = document.getElementById('test-score');
        const testScoreTextEl = document.getElementById('test-score-text');
        const testReviewEl = document.getElementById('test-review');
        const retakeTestBtn = document.getElementById('retake-test-btn');
        const progressChartCanvas = document.getElementById('progress-chart');

        let progressChart;
        
        function showModal() {
            infoModal.classList.remove('opacity-0', 'pointer-events-none');
            infoModal.querySelector('.modal-content').classList.remove('scale-95');
        }

        function hideModal() {
            infoModal.classList.add('opacity-0', 'pointer-events-none');
            infoModal.querySelector('.modal-content').classList.add('scale-95');
        }

        function speakText(text, lang, onEndCallback) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = lang;
                utterance.onend = onEndCallback;
                window.speechSynthesis.speak(utterance);
                return true;
            }
            console.log('Sorry, your browser does not support text-to-speech.');
            if(onEndCallback) onEndCallback();
            return false;
        }

        function speakQuestion() {
            const questionData = state.filteredQuestions[state.currentCardIndex];
            const questionText = questionData.question_en;
            speakText(questionText, 'en-US');
        }

        async function searchTopic() {
            const questionData = state.filteredQuestions[state.currentCardIndex];
            if (!questionData) {
                console.error("No question data found for the current index.");
                return;
            }
            
            const answerText = questionData.answer_en.split(',')[0].replace(/\(.*\)/g, '').trim();
            modalTitle.textContent = `Searching for: ${answerText}`;
            modalText.innerHTML = '';
            modalLoader.style.display = 'flex';
            showModal();

            const query = encodeURIComponent(answerText);
            const endpoint = `https://en.wikipedia.org/api/rest_v1/page/summary/${query}`;

            try {
                const response = await fetch(endpoint, {
                    headers: { 'Accept': 'application/json' }
                });
                if (!response.ok) {
                    throw new Error(`Wikipedia API returned status: ${response.status}`);
                }
                const data = await response.json();
                
                modalTitle.textContent = data.title;
                modalText.innerHTML = `<p>${data.extract}</p><a href="${data.content_urls.desktop.page}" target="_blank" class="text-blue-600 hover:underline mt-4 inline-block">Read more on Wikipedia</a>`;

            } catch (error) {
                console.error("Error fetching from Wikipedia:", error);
                modalTitle.textContent = "Error";
                modalText.innerHTML = `<p>Could not find information for "${answerText}". Please try another topic.</p>`;
            } finally {
                modalLoader.style.display = 'none';
            }
        }

        function playAudioQueue() {
            if (state.audioQueue.length === 0 || !state.isAudioPlaying) {
                state.isAudioPlaying = false;
                audioStatusText.textContent = translations[state.language].audio_finished;
                playAllBtn.disabled = false;
                return;
            }

            const item = state.audioQueue.shift();
            const textToSpeak = item.type === 'question' ? `Question ${item.id}. ${item.text}` : `Answer. ${item.text}`;
            
            audioStatusText.textContent = `${translations[state.language].audio_playing} ${item.id}...`;
            
            speakText(textToSpeak, 'en-US', () => {
                setTimeout(playAudioQueue, 500); // Brief pause between question and answer
            });
        }

        function startAudioPlayback() {
            if (state.isAudioPlaying) return;

            state.isAudioPlaying = true;
            playAllBtn.disabled = true;
            state.audioQueue = [];
            civicsQuestions.forEach(q => {
                state.audioQueue.push({ type: 'question', text: q.question_en, id: q.id });
                state.audioQueue.push({ type: 'answer', text: q.answer_en, id: q.id });
            });
            playAudioQueue();
        }

        function stopAudioPlayback() {
            state.isAudioPlaying = false;
            state.audioQueue = [];
            window.speechSynthesis.cancel();
            audioStatusText.textContent = translations[state.language].audio_idle;
            playAllBtn.disabled = false;
        }


        function updateUIWithLanguage() {
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (translations[state.language][key]) {
                    el.innerText = translations[state.language][key];
                }
            });
            langIndicator.innerText = state.language.toUpperCase();
            if (state.language === 'es') {
                langIndicator.style.transform = 'translateX(1.5rem)';
            } else {
                langIndicator.style.transform = 'translateX(0)';
            }
            populateCategories();
            displayCard();
            if (progressChart) {
                updateChartLanguage();
            }
        }

        function populateCategories() {
            const currentCategory = categoryFilter.value;
            const categories = [...new Set(civicsQuestions.map(q => q.category))];
            categoryFilter.innerHTML = `<option value="all">${translations[state.language].all_categories}</option>`;
            categories.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat;
                option.textContent = cat;
                categoryFilter.appendChild(option);
            });
            if (currentCategory) {
               categoryFilter.value = currentCategory;
            }
        }

        function filterQuestions() {
            const selectedCategory = categoryFilter.value;
            if (selectedCategory === 'all') {
                state.filteredQuestions = [...civicsQuestions];
            } else {
                state.filteredQuestions = civicsQuestions.filter(q => q.category === selectedCategory);
            }
            state.currentCardIndex = 0;
            displayCard();
        }

        function displayCard() {
            if (state.isCardFlipped) {
                cardElement.classList.remove('flipped');
                state.isCardFlipped = false;
            }

            if (state.filteredQuestions.length === 0) {
                cardQuestion.textContent = state.language === 'en' ? 'No questions in this category.' : 'No hay preguntas en esta categor√≠a.';
                cardAnswer.textContent = '';
                cardCategory.textContent = '';
                cardCounter.textContent = '0 / 0';
                prevCardBtn.disabled = true;
                nextCardBtn.disabled = true;
                return;
            }

            const question = state.filteredQuestions[state.currentCardIndex];
            cardQuestion.textContent = question[`question_${state.language}`];
            cardAnswer.textContent = question[`answer_${state.language}`].split(',').map(s => `‚Ä¢ ${s.trim()}`).join('\n');
            cardCategory.textContent = question.category;
            cardCounter.textContent = `${state.currentCardIndex + 1} / ${state.filteredQuestions.length}`;
            
            prevCardBtn.disabled = state.currentCardIndex === 0;
            nextCardBtn.disabled = state.currentCardIndex === state.filteredQuestions.length - 1;
        }

        function flipCard() {
            state.isCardFlipped = !state.isCardFlipped;
            cardElement.classList.toggle('flipped');
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function startTest() {
            state.currentTest = {
                isActive: true,
                questions: shuffleArray([...civicsQuestions]).slice(0, 10),
                currentQuestionIndex: 0,
                score: 0,
                userAnswers: []
            };

            testStartScreen.classList.add('hidden');
            testResultsScreen.classList.add('hidden');
            testQuizScreen.classList.remove('hidden');
            
            displayTestQuestion();
        }

        function getDistractorAnswers(correctAnswer) {
            const allAnswers = civicsQuestions.map(q => q[`answer_${state.language}`].split(',')[0].trim());
            const uniqueAnswers = [...new Set(allAnswers)];
            const distractors = [];
            
            const normalizedCorrect = correctAnswer.split(',')[0].trim();

            while (distractors.length < 3) {
                const randomIndex = Math.floor(Math.random() * uniqueAnswers.length);
                const potentialDistractor = uniqueAnswers[randomIndex];
                if (potentialDistractor !== normalizedCorrect && !distractors.includes(potentialDistractor)) {
                    distractors.push(potentialDistractor);
                }
            }
            return distractors;
        }


        function displayTestQuestion() {
            testFeedbackEl.classList.add('hidden');
            nextQuestionBtn.classList.add('hidden');

            const q = state.currentTest.questions[state.currentTest.currentQuestionIndex];
            testQuestionCounter.textContent = `${state.currentTest.currentQuestionIndex + 1} / 10`;
            testQuestionEl.textContent = q[`question_${state.language}`];
            
            const correctAnswer = q[`answer_${state.language}`];
            const distractors = getDistractorAnswers(correctAnswer);
            const options = shuffleArray([correctAnswer, ...distractors]);
            
            testOptionsEl.innerHTML = '';
            options.forEach(optionText => {
                const button = document.createElement('button');
                button.className = 'block w-full text-left p-4 border rounded-lg hover:bg-gray-200 transition';
                button.textContent = optionText.split(',')[0].trim();
                button.onclick = () => selectAnswer(optionText, correctAnswer);
                testOptionsEl.appendChild(button);
            });
        }

        function selectAnswer(selected, correct) {
            const isCorrect = correct.toLowerCase().includes(selected.split(',')[0].trim().toLowerCase());
            
            state.currentTest.userAnswers.push({
                question: state.currentTest.questions[state.currentTest.currentQuestionIndex],
                selectedAnswer: selected,
                isCorrect: isCorrect
            });

            if (isCorrect) {
                state.currentTest.score++;
                testFeedbackEl.textContent = state.language === 'en' ? 'Correct!' : '¬°Correcto!';
                testFeedbackEl.className = 'mt-4 p-4 rounded-lg text-center font-bold bg-green-200 text-green-800';
            } else {
                testFeedbackEl.textContent = `${state.language === 'en' ? 'Incorrect. The correct answer is' : 'Incorrecto. La respuesta correcta es'}: ${correct.split(',')[0]}`;
                testFeedbackEl.className = 'mt-4 p-4 rounded-lg text-center font-bold bg-red-200 text-red-800';
            }

            testFeedbackEl.classList.remove('hidden');
            nextQuestionBtn.classList.remove('hidden');
            
            Array.from(testOptionsEl.children).forEach(button => {
                button.disabled = true;
                const buttonTextFirstPart = button.textContent.split(',')[0].trim().toLowerCase();
                const correctFirstPart = correct.split(',')[0].trim().toLowerCase();

                if (buttonTextFirstPart === correctFirstPart) {
                    button.classList.add('bg-green-200');
                } else if (button.textContent === selected && !isCorrect) {
                     button.classList.add('bg-red-200');
                }
            });
        }

        function nextTestQuestion() {
            state.currentTest.currentQuestionIndex++;
            if (state.currentTest.currentQuestionIndex < 10) {
                displayTestQuestion();
            } else {
                endTest();
            }
        }
        
        function endTest() {
            testQuizScreen.classList.add('hidden');
            testResultsScreen.classList.remove('hidden');

            const scorePercentage = (state.currentTest.score / 10) * 100;
            testScoreEl.textContent = `${scorePercentage}%`;
            testScoreTextEl.textContent = `${state.currentTest.score} / 10 ${state.language === 'en' ? 'Correct' : 'Correctas'}`;
            
            const resultMessage = document.createElement('p');
            resultMessage.className = 'text-xl font-semibold mb-4';
            if (state.currentTest.score >= 6) {
                resultMessage.textContent = translations[state.language].pass_message;
                resultMessage.classList.add('text-green-700');
            } else {
                resultMessage.textContent = translations[state.language].fail_message;
                resultMessage.classList.add('text-red-700');
            }
            testScoreTextEl.appendChild(resultMessage);
            
            testReviewEl.innerHTML = '';
            state.currentTest.userAnswers.forEach((ans, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = `p-3 rounded-lg ${ans.isCorrect ? 'bg-green-100' : 'bg-red-100'}`;
                reviewItem.innerHTML = `
                    <p class="font-semibold">${index + 1}. ${ans.question[`question_${state.language}`]}</p>
                    <p class="text-sm">${state.language === 'en' ? 'Your answer' : 'Su respuesta'}: ${ans.selectedAnswer.split(',')[0].trim()} ${ans.isCorrect ? '‚úî' : '‚ùå'}</p>
                    ${!ans.isCorrect ? `<p class="text-sm text-green-800 font-medium">${state.language === 'en' ? 'Correct answer' : 'Respuesta correcta'}: ${ans.question[`answer_${state.language}`].split(',')[0].trim()}</p>` : ''}
                `;
                testReviewEl.appendChild(reviewItem);
            });

            updateProgressData(scorePercentage);
        }
        
        function updateProgressData(score) {
            state.progressData.push(score);
            if (state.progressData.length > 10) {
                state.progressData.shift();
            }
            localStorage.setItem('citizenshipTestProgress', JSON.stringify(state.progressData));
            renderProgressChart();
        }

        function loadProgressData() {
            const savedData = localStorage.getItem('citizenshipTestProgress');
            if(savedData) {
                state.progressData = JSON.parse(savedData);
            }
        }
        
        function renderProgressChart() {
            const labels = state.progressData.map((_, i) => `${translations[state.language].test_attempt_label} ${i + 1}`);

            const data = {
                labels: labels,
                datasets: [{
                    label: translations[state.language].score_label,
                    backgroundColor: 'rgba(59, 130, 246, 0.2)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    data: state.progressData,
                    fill: true,
                    tension: 0.1
                }]
            };

            const config = {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%'
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.parsed.y}%`;
                                }
                            }
                        }
                    }
                }
            };
            
            if (progressChart) {
                progressChart.destroy();
            }
            progressChart = new Chart(progressChartCanvas, config);
        }

        function updateChartLanguage() {
            if (!progressChart) return;
            progressChart.data.labels = state.progressData.map((_, i) => `${translations[state.language].test_attempt_label} ${i + 1}`);
            progressChart.data.datasets[0].label = translations[state.language].score_label;
            progressChart.update();
        }

        langToggle.addEventListener('click', () => {
            state.language = state.language === 'en' ? 'es' : 'en';
            updateUIWithLanguage();
        });

        categoryFilter.addEventListener('change', filterQuestions);
        prevCardBtn.addEventListener('click', () => {
            if (state.currentCardIndex > 0) {
                state.currentCardIndex--;
                displayCard();
            }
        });
        nextCardBtn.addEventListener('click', () => {
            if (state.currentCardIndex < state.filteredQuestions.length - 1) {
                state.currentCardIndex++;
                displayCard();
            }
        });
        flipCardBtn.addEventListener('click', flipCard);
        cardElement.addEventListener('click', (e) => {
            if (e.target.closest('button')) return;
            flipCard();
        });
        startTestBtn.addEventListener('click', startTest);
        nextQuestionBtn.addEventListener('click', nextTestQuestion);
        retakeTestBtn.addEventListener('click', startTest);
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                if(!mobileMenu.classList.contains('hidden')){
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        speakBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            speakQuestion();
        });
        searchTopicBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            searchTopic();
        });
        
        closeModalBtn.addEventListener('click', hideModal);
        infoModal.addEventListener('click', (e) => {
            if (e.target === infoModal) {
                hideModal();
            }
        });

        playAllBtn.addEventListener('click', startAudioPlayback);
        stopAudioBtn.addEventListener('click', stopAudioPlayback);

        document.addEventListener('DOMContentLoaded', () => {
            updateUIWithLanguage();
            // Default to "All Categories"
            categoryFilter.value = 'all';
            filterQuestions();
            loadProgressData();
            renderProgressChart();
        });
    </script>
</body>
</html>
